const { quickSelect } = require('./quickSelect');

describe('quickSelect', () => {
	test.each`
		arr                                        | index | expected
		${[3, 2, 1, 5, 6, 4]}                      | ${0}  | ${1}
		${[3, 2, 1, 5, 6, 4]}                      | ${1}  | ${2}
		${[3, 2, 1, 5, 6, 4]}                      | ${2}  | ${3}
		${[3, 2, 1, 5, 6, 4]}                      | ${3}  | ${4}
		${[3, 2, 1, 5, 6, 4]}                      | ${4}  | ${5}
		${[3, 2, 1, 5, 6, 4]}                      | ${5}  | ${6}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${0}  | ${1}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${1}  | ${2}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${2}  | ${3}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${3}  | ${4}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${4}  | ${5}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${5}  | ${6}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${6}  | ${7}
		${[7, 6, 2, 8, 4, 1, 3, 5]}                | ${7}  | ${8}
		${Array(10).fill(1)}                       | ${0}  | ${1}
		${Array(10).fill(1)}                       | ${9}  | ${1}
		${[1, 99, 1000]}                           | ${0}  | ${1}
		${[1, 99, 1000]}                           | ${1}  | ${99}
		${[1, 99, 1000]}                           | ${2}  | ${1000}
		${[1, 1000, 99]}                           | ${0}  | ${1}
		${[1, 1000, 99]}                           | ${1}  | ${99}
		${[1, 1000, 99]}                           | ${2}  | ${1000}
		${[1000, 99, 1]}                           | ${0}  | ${1}
		${[1000, 99, 1]}                           | ${1}  | ${99}
		${[1000, 99, 1]}                           | ${2}  | ${1000}
		${[99, 1000, 1]}                           | ${0}  | ${1}
		${[99, 1000, 1]}                           | ${1}  | ${99}
		${[99, 1000, 1]}                           | ${2}  | ${1000}
		${[99, 1, 1000]}                           | ${0}  | ${1}
		${[99, 1, 1000]}                           | ${1}  | ${99}
		${[99, 1, 1000]}                           | ${2}  | ${1000}
		${[1000, 1, 99]}                           | ${0}  | ${1}
		${[1000, 1, 99]}                           | ${1}  | ${99}
		${[1000, 1, 99]}                           | ${2}  | ${1000}
		${[3, 2, 3, 1, 2, 4, 5, 5, 6]}             | ${5}  | ${4}
		${[1, 1, 1, 1, 9, 9, 9, 9, 9, 9, 9, 9, 5]} | ${7}  | ${9}
		${[-1, 2, 0]}                              | ${2}  | ${2}
		${[1]}                                     | ${0}  | ${1}
	`(
		'quickSelect($arr, $index) returns $expected',
		({ arr, index, expected }) => {
			expect(quickSelect(arr, index)).toBe(expected);
		}
	);

	test('quickSelect with wrong range', () => {
		expect(() => quickSelect([1, 2, 3], -1)).toThrowError();
		expect(() => quickSelect([1, 2, 3], 3)).toThrowError();
		expect(() => quickSelect([], 0)).toThrowError();
		expect(() => quickSelect([1, 2, 3], 4)).toThrowError();
	});
});
